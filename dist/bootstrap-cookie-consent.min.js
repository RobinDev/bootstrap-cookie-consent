!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BootstrapCookieConsent=t():e.BootstrapCookieConsent=t()}(window,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";i.r(t);var n=i(1);i.n(n);t.default=class{constructor(e={}){this._conf=Object.assign({},{show_selector:".cc",accept_id:"accept-cookie",banner_text:"Ce site utilise des services tiers susceptible de vous déposer un cookie. Pour une navigation optimale, acceptez-vous de les utiliser sur ce site ?",button_text:"J'accepte",banner_id:"cookies-banner",link_more_info:"#",more_info_label:"En savoir plus",details_title:"Vie Privée",details_text:"Vous pouvez accepter ou refuster l'utilisation sur ce site de certains services.",services:[]},e),this.cookieConsent=new CookieConsentApi(this._conf),console.log(this.cookieConsent.isAllConfigured()),0==this.cookieConsent.isAllConfigured()&&this._showBanner(),this.cookieConsent.on("allConfigured",function(){this._hideBanner()}),$(this._conf.show_selector).on("click",function(){$("#cookie-modal").lenght||this._createDetails(),$("#cookie-modal").modal("show")})}_hideBanner(){this._conf.banner_id.remove()}_showBanner(){let e='<div id="'+this._conf.banner_id+'" class="alert alert-warning text-center">'+this._conf.banner_text+' <button class="btn btn-success btn-gradient btn-sm" id="'+this._conf.accept_id+'">'+this._conf.button_text+'</button> <a href="'+this._conf.link_more_info+'">'+this._conf.more_info_label+"</a></div>";console.log("add banner"),$(document.body).prepend(e),$("#"+this._conf.accept_id).click({d:this},function(){d.cookieConsent.acceptAll(),d._hideBanner()})}_createDetails(){let e='<div class="modal fade" id="cookie-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">';e+='<div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header">',e+='<h5 class="modal-title">'+this._conf.details_title+"</h5>",e+='<button type="button" class="close" data-dismiss="modal" aria-label="Fermer"><span aria-hidden="true">&times;</span></button></div>',e+='<div class="modal-body">',e+="<p>"+this._conf.details_text+' <a href="'+this._conf.link_more_info+'">'+this._conf.more_info_label+"</a></p>",e+='<table class="table"><thead class="thead-light"><tr><th scope="col" class="col-10">Service</th><th scope="col" class="col-2">Accepter</th></tr></thead>',e+="<tbody>",this._conf.service.forEach(function(t){console.log(t),e+="<tr><td>"+t+"</td><td>",e+='<span class="switch"><input type="checkbox" class="switch-sm" id="switch-'+t+'"',e+=this.cookieConsent.isAccepted(service)?" checked":"",e+='><label for="switch-'+t+'"></label></span>',e+="</td></tr>",$("switch-"+t).on("click",function(){$("switch-"+t).is(":checked")?this.cookieConsent.accept(t):this.cookieConsent.refuse(t)})}),e+="</tbody></table></div></div></div></div>",$(document.body).append(e)}}},function(e){window,e.exports=function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./",t(t.s=2)}([function(e,t,i){var n,o;!function(s){void 0!==(o="function"==typeof(n=s)?n.call(t,i,t,e):n)&&(e.exports=o),e.exports=s()}(function(){function e(){for(var e,t=0,i={};t<arguments.length;t++)for(var n in e=arguments[t])i[n]=e[n];return i}return function t(i){function n(t,o,s){var r;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(s=e({path:"/"},n.defaults,s)).expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*s.expires),s.expires=c}s.expires=s.expires?s.expires.toUTCString():"";try{r=JSON.stringify(o),/^[\{\[]/.test(r)&&(o=r)}catch(l){}o=i.write?i.write(o,t):encodeURIComponent(o+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(t+"")).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,!0!==s[l])&&(a+="="+s[l]);return document.cookie=t+"="+o+a}t||(r={});for(var u=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,h=0;h<u.length;h++){var d=u[h].split("="),p=d.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var v=d[0].replace(f,decodeURIComponent);if(p=i.read?i.read(p,v):i(p,v)||p.replace(f,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(l){}if(t===v){r=p;break}t||(r[v]=p)}catch(l){}}return r}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}(function(){})})},function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,s,r,c,a,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(o(s=this._events[e]))return!1;if(i(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:c=Array.prototype.slice.call(arguments,1),s.apply(this,c)}else if(n(s))for(c=Array.prototype.slice.call(arguments,1),r=(l=s.slice()).length,a=0;a<r;a++)l[a].apply(this,c);return!0},t.prototype.addListener=function(e,s){var r;if(!i(s))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(s.listener)?s.listener:s),this._events[e]?n(this._events[e])?this._events[e].push(s):this._events[e]=[this._events[e],s]:this._events[e]=s,n(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&0<r&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},t.prototype.removeListener=function(e,t){var o,s,r,c;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(o=this._events[e]).length,s=-1,o===t||i(o.listener)&&o.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(o)){for(c=r;0<c--;)if(o[c]===t||o[c].listener&&o[c].listener===t){s=c;break}if(0>s)return this;1===o.length?(o.length=0,delete this._events[e]):o.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,i){"use strict";i.r(t);var n=i(0),o=i.n(n),s=i(1),r=i.n(s);t.default=class extends r.a{constructor(e={}){super(),this._conf=Object.assign({},{cookieName:"cookie_consent_settings",cookieDuration:365,cookieDomain:null,services:[]},e),this._validateConf(),this._updateView()}reset(){o.a.remove(this._conf.cookieName,{domain:this._conf.cookieDomain}),this._updateView(),this.emit("clear")}acceptAll(){let e={};this._conf.services.forEach(t=>e[t]=!0),this._setCookieServices(e),this._updateView(),this.emit("allConfigured")}accept(e){let t=this._getCookieServices();t[e]=!0,this._setCookieServices(t),this._updateView(),this.emit("accept",e),this.isAllConfigured()&&this.emit("allConfigured")}refuse(e){let t=this._getCookieServices();t[e]=!1,this._setCookieServices(t),this._updateView(),this.emit("refuse",e),this.isAllConfigured()&&this.emit("allConfigured")}isAllConfigured(){const e=this._getCookieServices();let t=!0;return this._conf.services.forEach(i=>{void 0===e[i]&&(t=!1)}),t}isConfigured(e){return void 0!==this._getCookieServices()[e]}isAccepted(e){const t=this._getCookieServices();return void 0!==t[e]&&!0===t[e]}isRefused(e){const t=this._getCookieServices();return void 0!==t[e]&&!1===t[e]}getServices(){return this._conf.services}_getCookieServices(){return o.a.getJSON(this._conf.cookieName)||{}}_setCookieServices(e){o.a.set(this._conf.cookieName,e,{duration:this._conf.cookieDuration,domain:this._conf.cookieDomain})}_validateConf(){Array.isArray(this._conf.services)?this._conf.services.forEach(e=>{!1===/^[a-zA-Z0-9]+$/.test(e)&&console.error('CCM: "'+e+'" is not a valid service name, only alphanumeric allowed')}):console.error("CCM: Services is not an array")}_updateView(){const e=this._getCookieServices();this._conf.services.forEach(t=>{const i=document.querySelectorAll('[data-cookie-consent="'+t+'"]');!0===e[t]?i.forEach(e=>{e.getAttribute("data-ccm-fallback")||e.setAttribute("data-ccm-fallback",e.innerHTML);var t=e.innerHTML.match(/<!--if-consent(.*?)endif-->/s);t&&2==t.length&&(e.innerHTML=t[1],this._executeScripts(e))}):i.forEach(e=>{let t=e.getAttribute("data-ccm-fallback");t&&(e.innerHTML=t,this._executeScripts(e))})})}_executeScripts(e){e.querySelectorAll("script").forEach(function(t){let i=document.createElement("script");i.innerHTML=t.innerHTML,t.remove(),e.append(i)})}}}]).default}]).default});